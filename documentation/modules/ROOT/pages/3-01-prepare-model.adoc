= 3.4 Preparing a data model for deployment
//title TBD
include::_attributes.adoc[]

After you train a model for inference, you can deploy that model by using the {productname-short} model serving capabilities.

First, you must move the model from your workbench to your S3 compatible object storage.  You use the data connection that you created earlier in the section xref:1-03-data-connections.adoc[Storage Data Connections].  We'll simply upload the model from a notebook.

You also need to convert it to a portable format, onnx.
//this description needs work

.Prerequisites

* You must have created the data connection `My Storage` *and* added that data connection to your workbench before you can use the data connection in a notebook. 
+
You can edit your workbench and add the data connection now.  This will *restart* your workbench with the data connection attached. You *ONLY* need to do this if you missed it the first time.
//rewrite ^

image::model-serving/ds-project-workbench-list-edit.png[Workbench edit form]

image::model-serving/create-workbench-form-data-connection.png[Workbench data connection form, 600]

.Procedure

. In your Jupyter environment, open the `2_save_model.ipynb` file.
. Follow the instructions in the notebook to make the data model accessible in storage and save it in a portable `onnx` format.

image::model-serving/jupyter-notebook-2.png[Jupyter Notebook 2]

.Verification

When you have completed the notebook isntrcutions, the `models/fraud/model.onnx` file is in your object storage and it is ready for your model server to use.

.Next step

xref:3-02-deploy-model.adoc[Deploying a data model]
